<script setup lang="ts">
import { ref } from "vue";
import { useDraggable } from "@pureadmin/utils";

let showModal = ref(false);

const { draggable, init, close, reset, open } = useDraggable(
  ".n-dialog",
  ".n-dialog__title"
);

function onOpenDialog() {
  showModal.value = true;
  init();
}
</script>

<template>
  <naive-theme>
    <n-button @click="onOpenDialog"> ç‚¹å‡»æ‰“å¼€æ¨¡æ€æ¡† </n-button>
    <n-modal v-model:show="showModal" preset="dialog" :maskClosable="false">
      <template #header> æ‹–åŠ¨æˆ‘å§ </template>
      <div>
        <p>naiveuiï¼šæˆ‘æš´éœ²äº†è¶³å¤Ÿçš„apiï¼Œæ€ä¹ˆä¼šéš¾ç”¨å‘¢ï¼ŸğŸ¤”</p>
        <p>äºŒå¼€ç–¯å­ï¼šç¡®å®ï¼Œè¿™ä¸‹å¾ˆå¤šç»„ä»¶éƒ½èƒ½æ›´å¥½åœ°äºŒæ¬¡å°è£…äº† ğŸ˜„</p>
        <p>æ‹·è´é«˜æ‰‹ï¼šå¥½å’§ï¼Œèµ¶ç´§åŠ¨èµ·æ¥ï¼ğŸ‘</p>
      </div>
      <template #action>
        <n-button @click="reset">å¤ä½</n-button>
        <n-button @click="close" v-if="draggable">å…³é—­æ‹–æ‹½</n-button>
        <n-button @click="open" v-else>å¼€å¯æ‹–æ‹½</n-button>
      </template>
    </n-modal>
  </naive-theme>
</template>
